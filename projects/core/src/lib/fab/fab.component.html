<ion-fab *ngIf="visible" (@fabAnim.done)="fabAnimDone($event)" [@fabAnim]="horizontal"
  [ngClass]="[mode,horizontal,vertical]" [slot]="slot">
  <fiv-loading-spinner [color]="spinColor" *ngIf="!extended && loading" (fivProgress)="rotate($event)" #spinner
    (fivComplete)="fillAnimationDone()" class="spinner" [circleRadius]="30" [diameter]="68" [strokeWidth]="4"
    [mode]="'indeterminate'">
  </fiv-loading-spinner>

  <ion-button [ngClass]="{'pulse': pulse, 'small':!labelComp || !extended}" [color]="color" [disabled]="disabled">
    <fiv-loading-progress-bar *ngIf="extended" [loading]="loading" (fivComplete)="fillAnimationDone()" #bar>
    </fiv-loading-progress-bar>
    <fiv-icon [ngClass]="{'ios': platform.is('ios')}" #feature="fivFeature" slot="start" [fivFeature]="feature" *ngIf="iconComp" [color]="iconComp.color"
      [name]="iconComp.name" [dotVisible]="iconComp.dotVisible" [indicatorValue]="iconComp.indicatorValue">
    </fiv-icon>
    <div [@labelAnim] *ngIf="labelComp && extended">
      <ng-content select="ion-label"></ng-content>
    </div>
  </ion-button>
</ion-fab>